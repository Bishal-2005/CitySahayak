<nav>
  <!-- ‚úÖ Logo -->
  <div class="logo">
    <img src="/static/logo.png" alt="Logo">
    Ôº£ÔΩâÔΩîÔΩôÔº≥ÔΩÅÔΩàÔΩÅÔΩôÔΩÅÔΩã
  </div>

  <!-- ‚úÖ Hamburger Menu -->
  <div class="menu-toggle" onclick="toggleMenu()">‚ò∞</div>

  <!-- ‚úÖ Nav Links -->
  <ul id="nav-links">
    {% if current_user.is_authenticated %}
      <li><a href="/home">Home</a></li>
      <li><a href="/notices">Notices</a></li>
      <li><a href="/report">Report</a></li>
      <li><a href="/dashboard">Dashboard</a></li>

      <!-- ‚úÖ Profile Dropdown -->
      <li class="profile-dropdown">
        <img src="{% if current_user.profile_image %}{{ url_for('static', filename='profile_pics/' ~ current_user.profile_image) }}{% else %}{{ url_for('static', filename='default-avatar.png') }}{% endif %}" 
             alt="Profile" class="profile-pic" onclick="toggleProfileMenu()">
        
        <ul class="dropdown-menu" id="profileMenu">
          <li><a href="/profile">üë§ My Profile</a></li>
          <li><a href="/settings">‚öô Settings</a></li>
          <li><a href="/logout">üö™ Logout</a></li>
        </ul>
      </li>
    {% else %}
      <li><a href="/register">Register</a></li>
      <li><a href="/login">Login</a></li>
    {% endif %}
  </ul>
</nav>

<style>
  /* ‚úÖ Navbar Container */
  nav {
    position: sticky;
    top: 0;
    z-index: 1000;
    background: linear-gradient(90deg, #1e3c72, #2a5298);
    padding: 12px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
  }

  /* ‚úÖ Logo */
  .logo {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 20px;
    font-weight: bold;
    color: white;
  }

  .logo img {
    height: 36px;
  }

  /* ‚úÖ Nav Links */
  nav ul {
    list-style: none;
    display: flex;
    gap: 20px;
    margin: 0;
    padding: 0;
    align-items: center;
  }

  nav ul li {
    display: flex;
    align-items: center;
    position: relative;
  }

  nav ul li a {
    color: white;
    text-decoration: none;
    font-weight: 500;
    padding: 6px 10px;
    border-radius: 4px;
    transition: background 0.3s ease;
  }

  nav ul li a:hover {
    background: rgba(255, 255, 255, 0.2);
  }

  /* ‚úÖ Profile Picture */
  .profile-pic {
    width: 38px;
    height: 38px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid white;
    cursor: pointer;
    transition: transform 0.2s ease;
  }

  .profile-pic:hover {
    transform: scale(1.05);
  }

  /* ‚úÖ Dropdown Menu (styled) */
  .dropdown-menu {
    display: none;
    position: absolute;
    top: 50px;
    right: 0;
    background: black;
    list-style: none;
    padding: 6px 0;
    margin: 0;
    border-radius: 8px;
    box-shadow: 0 6px 15px rgba(0,0,0,0.2);
    min-width: 180px;
    animation: fadeIn 0.25s ease;
  }

  .dropdown-menu li {
    width: 100%;
  }

  .dropdown-menu li a {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px 16px;
    color: whitesmoke;
    text-decoration: none;
    font-weight: 500;
    transition: background 0.3s ease, color 0.3s ease;
  }

  .dropdown-menu li a:hover {
    background: #1e3c72;
    color: white;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(-5px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* ‚úÖ Hamburger Menu */
  .menu-toggle {
    display: none;
    font-size: 26px;
    color: white;
    cursor: pointer;
  }

  /* ‚úÖ Responsive */
  @media (max-width: 768px) {
    .menu-toggle {
      display: block;
    }

    nav ul {
      display: none;
      flex-direction: column;
      width: 100%;
      background: #1e3c72;
      margin-top: 10px;
      border-radius: 6px;
      padding: 10px 0;
    }

    nav ul li {
      width: 100%;
      justify-content: center;
      padding: 8px 0;
    }

    nav ul.show {
      display: flex;
    }

    /* ‚úÖ Mobile dropdown menu */
    .dropdown-menu {
      position: relative;
      top: 0;
      right: 0;
      box-shadow: none;
      background: #f9f9f9;
    }

    .dropdown-menu li a {
      color: #333;
    }

    .dropdown-menu li a:hover {
      background: #ddd;
      color: #000;
    }
  }
</style>

<script>
  // ‚úÖ Toggle Hamburger Menu
  function toggleMenu() {
    document.getElementById("nav-links").classList.toggle("show");
  }

  // ‚úÖ Toggle Profile Dropdown
  function toggleProfileMenu() {
    let menu = document.getElementById("profileMenu");
    menu.style.display = (menu.style.display === "block") ? "none" : "block";
  }

  // ‚úÖ Close Profile Menu when clicking outside
  document.addEventListener("click", function(event) {
    let profileMenu = document.getElementById("profileMenu");
    let profilePic = document.querySelector(".profile-pic");
    if (profileMenu && !profileMenu.contains(event.target) && !profilePic.contains(event.target)) {
      profileMenu.style.display = "none";
    }
  });
</script>
